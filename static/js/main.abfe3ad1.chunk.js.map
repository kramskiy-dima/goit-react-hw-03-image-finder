{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Loading/Loading.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","services/pixabay-api.js","components/Loading/Loading.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","queryValue","hendleChange","e","setState","currentTarget","value","hendleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","onChange","name","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","onClick","src","webformatURL","alt","about","largeImageURL","ImageGallery","errorMsg","images","toogleModal","error","target","attributes","map","el","id","Modal","handleEscDown","code","handleBackdropClick","event","window","addEventListener","removeEventListener","Overlay","link","Button","key","searchQuery","currentPage","axios","get","then","response","data","hits","Loading","loader","color","height","width","timeout","App","query","showModal","isLoading","msg","fetchImages","api","length","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","console","log","finally","hendleChangeQuery","currentValue","getlargeImageURL","prevState","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.abfe3ad1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__1kt0o\",\"error\":\"ImageGallery_error__3fOYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loading_loader__fHWHo\"};","import React, { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    queryValue: \"\",\n  };\n\n  hendleChange = (e) => {\n    this.setState({\n      queryValue: e.currentTarget.value,\n    });\n  };\n\n  hendleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.queryValue);\n    this.setState({ queryValue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.hendleSubmit}>\n          <button type=\"submit\" className={s[\"SearchForm-button\"]}>\n            <span className={s[\"SearchForm-button-label\"]}>Search</span>\n          </button>\n\n          <input\n            className={s[\"SearchForm-input\"]}\n            onChange={this.hendleChange}\n            value={this.state.queryValue}\n            name=\"query\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ image, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick}>\n      <img\n        src={image.webformatURL}\n        alt={image.type}\n        about={image.largeImageURL}\n        className={s[\"ImageGalleryItem-image\"]}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ errorMsg, images, onClick, toogleModal }) => {\n  const handleClick = (e) => {\n    onClick(e.target.attributes.about.value);\n  };\n\n  return (\n    <div>\n      {errorMsg && <p className={s.error}>{errorMsg}</p>}\n      <ul className={s.ImageGallery} onClick={handleClick}>\n        {images.map((el) => (\n          <ImageGalleryItem key={el.id} image={el} onClick={toogleModal} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  errorMsg: PropTypes.string.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onClick: PropTypes.func.isRequired,\n  toogleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport s from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEscDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEscDown);\n  }\n\n  handleEscDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toogleModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.toogleModal();\n    }\n  };\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.link} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  link: PropTypes.string.isRequired,\n  toogleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from \"axios\";\n\nconst key = \"20677426-5a1c43fc209aed266a44605e2\";\n\nconst fetchImg = (searchQuery = \"\", currentPage = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImg };\n","import Loader from \"react-loader-spinner\";\nimport s from \"./Loading.module.css\";\n\nconst Loading = () => {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n\nexport default Loading;\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport api from \"./services/pixabay-api\";\nimport Loader from \"./components/Loading\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    currentPage: 1,\n    largeImageURL: \"\",\n    showModal: false,\n    isLoading: false,\n    msg: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { query, currentPage } = this.state;\n    this.setState({ isLoading: true });\n    api\n      .fetchImg(query, currentPage)\n      .then((data) => {\n        if (data.length > 0) {\n          this.setState(({ images, currentPage }) => ({\n            images: [...images, ...data],\n            currentPage: currentPage + 1,\n          }));\n          currentPage >= 2 &&\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n        } else {\n          this.setState({\n            msg: \"Enter the correct request\",\n          });\n        }\n      })\n      .catch((error) => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  hendleChangeQuery = (currentValue) => {\n    this.setState({\n      query: currentValue,\n      images: [],\n      currentPage: 1,\n      msg: \"\",\n    });\n  };\n\n  getlargeImageURL = (link) => {\n    this.setState({\n      largeImageURL: link,\n    });\n  };\n\n  toogleModal = () => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { isLoading, images, showModal, largeImageURL, msg } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.hendleChangeQuery} />\n        <ImageGallery\n          toogleModal={this.toogleModal}\n          images={images}\n          onClick={this.getlargeImageURL}\n          errorMsg={msg}\n        />\n\n        {!isLoading && images.length >= 12 && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {isLoading && <Loader />}\n\n        {showModal && (\n          <Modal link={largeImageURL} toogleModal={this.toogleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2bzU3\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}